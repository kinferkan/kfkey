import { useTranslation } from 'react-i18next'

export function useToolDescription(toolId: string, fallback?: string) {
  const { t } = useTranslation()
  return t(`toolDescriptions.${toolId}`, fallback || '')
}

export function useShortcutCategory(category: string) {
  const { t } = useTranslation()
  
  const categoryMap: Record<string, string> = {
    '通用': 'general',
    '文件': 'file',
    '导航': 'navigation',
    '编辑': 'editing',
    '搜索': 'search',
    '搜索与替换': 'search',
    '搜索替换': 'search',
    '调试': 'debugging',
    '重构': 'refactoring',
    '版本控制': 'version_control',
    '视图': 'view',
    '窗口': 'window',
    '窗口管理': 'window',
    '查找': 'search',
    '多光标': 'multi_cursor',
    '运行': 'run',
    'C/C++特有': 'cpp_specific',
    '帮助': 'help',
    '格式化': 'formatting',
    '注释': 'comment',
    '代码折叠': 'code_folding',
    'uni-app': 'uni_app',
    '智能感知': 'intelligence',
    '终端': 'terminal',
    // GoLand 特有分类
    'Go特有': 'go_specific',
    // IntelliJ IDEA 特有分类
    'Java特有': 'java_specific',
    // Sublime Text 特有分类
    '选择': 'selection',
    // WebStorm 特有分类
    '代码': 'code',
    // Xcode 特有分类
    '构建': 'build',
    '测试': 'testing',
    // Figma 分类
    '工具': 'tools',
    // Chrome DevTools 分类
    '元素面板': 'elements_panel',
    // Android Studio 特有分类
    'Android开发': 'android_development'
    // Photoshop 使用默认分类映射（文件、编辑）
  }
  
  const key = categoryMap[category] || category.toLowerCase()
  return t(`shortcutCategories.${key}`, category)
}

export function useShortcutDescription(description: string) {
  const { t } = useTranslation()
  
  const descriptionMap: Record<string, string> = {
    '命令面板': 'command_palette',
    '快速打开文件': 'quick_open',
    '新建窗口': 'new_window',
    '关闭窗口': 'close_window',
    '新建文件': 'new_file',
    '打开文件': 'open_file',
    '保存': 'save',
    '另存为': 'save_as',
    '保存所有': 'save_all',
    '关闭': 'close',
    '关闭所有': 'close_all',
    '重新打开关闭的编辑器': 'reopen_closed',
    '保持预览模式编辑器打开': 'keep_preview',
    '打开下一个': 'next_tab',
    '打开上一个': 'prev_tab',
    '复制活动文件的路径': 'copy_path',
    '在资源管理器中显示活动文件': 'reveal_in_explorer',
    '在新窗口/实例中显示活动文件': 'show_in_new_window',
    '查找操作': 'find_action',
    '随处搜索': 'search_everywhere',
    '转到类': 'go_to_class',
    '转到文件': 'go_to_file',
    '转到符号': 'go_to_symbol',
    '复制当前行': 'duplicate_line',
    '删除当前行': 'delete_line',
    '注释/取消注释': 'toggle_comment',
    '增加缩进': 'indent',
    '减少缩进': 'outdent',
    '在当前文件中查找': 'find_in_file',
    '在项目中查找': 'find_in_project',
    '查找下一个': 'find_next',
    '切换文件树视图': 'toggle_tree_view',
    '切换全屏': 'toggle_fullscreen',
    '增大字体': 'increase_font_size',
    '向下添加光标': 'add_cursor_below',
    '向上添加光标': 'add_cursor_above',
    '复制当前行或选中内容': 'duplicate_line_selection',
    '注释/取消注释当前行': 'toggle_line_comment',
    '块注释': 'block_comment',
    '跳转到声明': 'go_to_declaration',
    '跳转到实现': 'go_to_implementation',
    '查找使用': 'find_usages',
    '重命名': 'rename',
    '提取方法': 'extract_method',
    '提取变量': 'extract_variable',
    '运行': 'run',
    '调试': 'debug',
    '切换断点': 'toggle_breakpoint',
    '在头文件和源文件之间切换': 'switch_header_source',
    '优化包含': 'optimize_includes',
    '格式化代码': 'format_code',
    '显示键盘快捷键': 'show_keybindings',
    '打开资源': 'open_resource',
    '打开类型': 'open_type',
    '打开搜索对话框': 'open_search_dialog',
    '查找上一个': 'find_previous',
    '转到行': 'go_to_line',
    '转到最后编辑位置': 'go_to_last_edit',
    '下一个问题': 'next_problem',
    '上一个问题': 'previous_problem',
    // HBuilder X 快捷键描述映射
    '新建项目': 'new_project',
    '保存文件': 'save_file',
    '关闭当前文件': 'close_current_file',
    '关闭所有文件': 'close_all_files',
    '重新打开关闭的文件': 'reopen_closed_file',
    '查看定义': 'peek_definition',
    '查找引用': 'find_references',
    '后退': 'go_back',
    '前进': 'go_forward',
    '重做': 'redo',
    '剪切': 'cut',
    '全选': 'select_all',
    '选择行': 'select_line',
    '选择相同词': 'select_word',
    '选择所有相同词': 'select_all_words',
    '复制行': 'duplicate_line',
    '向上移动行': 'move_line_up',
    '向下移动行': 'move_line_down',
    '添加光标': 'add_cursor',
    '撤销光标': 'undo_cursor',
    '替换': 'replace',
    '在文件中查找': 'find_in_files',
    '在文件中替换': 'replace_in_files',
    '格式化文档': 'format_document',
    '格式化选择': 'format_selection',
    '切换行注释': 'toggle_line_comment',
    '切换块注释': 'toggle_block_comment',
    '折叠区域': 'fold_region',
    '展开区域': 'unfold_region',
    '折叠所有': 'fold_all',
    '展开所有': 'unfold_all',
    '运行到手机或模拟器': 'run_to_device',
    '运行到内置浏览器': 'run_in_browser',
    '发行': 'publish',
    '刷新': 'refresh',
    '触发建议': 'trigger_suggest',
    '触发参数提示': 'trigger_parameter_hints',
    '选择建议': 'select_suggestion',
    '切换侧边栏': 'toggle_sidebar',
    '显示资源管理器': 'show_explorer',
    '显示搜索': 'show_search',
    '显示源代码管理': 'show_scm',
    '显示调试': 'show_debug',
    '显示插件': 'show_extensions',
    '新建终端': 'new_terminal',
    '切换终端': 'toggle_terminal',
    // GoLand 特有描述
    '在测试和代码之间切换': 'switch_between_test_and_code',
    '实现接口': 'implement_interface',
    '优化导入': 'optimize_imports',
    // HBuilder X 缺失的描述映射
    '转到定义': 'go_to_definition',
    '撤销': 'undo',
    '复制': 'copy',
    '粘贴': 'paste',
    '删除行': 'delete_line',
    '查找': 'find',
    // IntelliJ IDEA 缺失的描述映射
    '重写方法': 'override_methods',
    '实现方法': 'implement_methods',
    '生成代码（getter、setter、构造函数等）': 'generate_code',
    '跳转到父类/方法': 'go_to_super',
    '提取字段': 'extract_field',
    // Sublime Text 缺失的描述映射
    '转到任何内容': 'go_to_anything',
    '转到项目中的符号': 'go_to_symbol_in_project',
    '选择单词': 'select_word',
    '将选择拆分为行': 'split_into_lines',
    '选择括号内容': 'expand_selection_to_brackets',
    '跳转到匹配的括号': 'jump_to_matching_bracket',
    // WebStorm 缺失的描述映射
    '按文件名查找文件': 'find_file_by_name',
    '最近打开的文件': 'recent_files',
    '代码补全': 'code_completion',
    // Xcode 缺失的描述映射
    '打开': 'open',
    '构建': 'build',
    '清理构建文件夹': 'clean_build_folder',
    '测试': 'test',
    '快速打开': 'quick_open',
    // Photoshop 特有描述映射
    '新建': 'new',
    '存储为Web所用格式': 'save_for_web',
    // Figma 描述映射
    '打开文件浏览器': 'open_file_browser',
    '保存到版本历史': 'save_to_version_history',
    '导出': 'export',
    '移动工具': 'move_tool',
    '框架工具': 'frame_tool',
    '矩形工具': 'rectangle_tool',
    '椭圆工具': 'ellipse_tool',
    '直线工具': 'line_tool',
    '文本工具': 'text_tool',
    // Chrome DevTools 描述映射
    '打开开发者工具并聚焦元素面板': 'open_devtools_focus_elements',
    '切换到元素面板': 'switch_to_elements_panel',
    '切换到源代码面板': 'switch_to_sources_panel',
    '编辑HTML元素': 'edit_html_element',
    '隐藏元素': 'hide_element',
    // Android Studio 特有描述
    '转到声明': 'go_to_declaration',
    '转到实现': 'go_to_implementation',
    '在当前文件中替换': 'replace_in_current_file',
    '在项目中替换': 'replace_in_project'
  }
  
  const key = descriptionMap[description]
  return key ? t(`shortcutDescriptions.${key}`, description) : description
}

/**
 * 不使用Hook的版本，用于在非组件中使用
 */
export const i18nTools = {
  getToolDescription: (t: any, toolId: string, fallback?: string) => {
    return t(`toolDescriptions.${toolId}`, fallback || '')
  },
  
  getShortcutCategory: (t: any, category: string) => {
    const categoryMap: Record<string, string> = {
      '通用': 'general',
      '文件': 'file',
      '导航': 'navigation',
      '编辑': 'editing',
      '搜索': 'search',
      '搜索与替换': 'search',
      '搜索替换': 'search',
      '调试': 'debugging',
      '重构': 'refactoring',
      '版本控制': 'version_control',
      '视图': 'view',
      '窗口': 'window',
      '窗口管理': 'window',
      '查找': 'search',
      '多光标': 'multi_cursor',
      '运行': 'run',
      'C/C++特有': 'cpp_specific',
      '帮助': 'help',
      '格式化': 'formatting',
      '注释': 'comment',
      '代码折叠': 'code_folding',
      'uni-app': 'uni_app',
      '智能感知': 'intelligence',
      '终端': 'terminal',
      // Firefox DevTools 特有分类
      '基础': 'basics',
      '面板导航': 'panel_navigation',
      '控制台': 'console',
      // GoLand 特有分类
      'Go特有': 'go_specific',
      // IntelliJ IDEA 特有分类
      'Java特有': 'java_specific',
      // Sublime Text 特有分类
      '选择': 'selection',
      // WebStorm 特有分类
      '代码': 'code',
      // Xcode 特有分类
      '构建': 'build',
      '测试': 'testing',
      // Figma 分类
      '工具': 'tools',
      // Chrome DevTools 分类
      '元素面板': 'elements_panel',
      // Android Studio 特有分类
      'Android开发': 'android_development',
      // Android Studio 其他分类
      '代码生成': 'code_generation'
      // Photoshop 使用默认分类映射（文件、编辑）
    }
    
    const key = categoryMap[category] || category.toLowerCase()
    return t(`shortcutCategories.${key}`, category)
  },
  
  getShortcutDescription: (t: any, description: string) => {
    const descriptionMap: Record<string, string> = {
      '命令面板': 'command_palette',
      '快速打开文件': 'quick_open',
      '新建窗口': 'new_window',
      '关闭窗口': 'close_window',
      '新建文件': 'new_file',
      '打开文件': 'open_file',
      '保存': 'save',
      '另存为': 'save_as',
      '保存所有': 'save_all',
      '关闭': 'close',
      '关闭所有': 'close_all',
      '重新打开关闭的编辑器': 'reopen_closed',
      '保持预览模式编辑器打开': 'keep_preview',
      '打开下一个': 'next_tab',
      '打开上一个': 'prev_tab',
      '复制活动文件的路径': 'copy_path',
      '在资源管理器中显示活动文件': 'reveal_in_explorer',
      '在新窗口/实例中显示活动文件': 'show_in_new_window',
      '查找操作': 'find_action',
      '随处搜索': 'search_everywhere',
      '转到类': 'go_to_class',
      '转到文件': 'go_to_file',
      '转到符号': 'go_to_symbol',
      '复制当前行': 'duplicate_line',
      '删除当前行': 'delete_line',
      '注释/取消注释': 'toggle_comment',
      '增加缩进': 'indent',
      '减少缩进': 'outdent',
      '在当前文件中查找': 'find_in_file',
      '在项目中查找': 'find_in_project',
      '查找下一个': 'find_next',
      '切换文件树视图': 'toggle_tree_view',
      '切换全屏': 'toggle_fullscreen',
      '增大字体': 'increase_font_size',
      '向下添加光标': 'add_cursor_below',
      '向上添加光标': 'add_cursor_above',
      '复制当前行或选中内容': 'duplicate_line_selection',
      '注释/取消注释当前行': 'toggle_line_comment',
      '块注释': 'block_comment',
      '跳转到声明': 'go_to_declaration',
      '跳转到实现': 'go_to_implementation',
      '查找使用': 'find_usages',
      '重命名': 'rename',
      '提取方法': 'extract_method',
      '提取变量': 'extract_variable',
      '运行': 'run',
      '调试': 'debug',
      '切换断点': 'toggle_breakpoint',
      '在头文件和源文件之间切换': 'switch_header_source',
      '优化包含': 'optimize_includes',
      '格式化代码': 'format_code',
      '显示键盘快捷键': 'show_keybindings',
      '打开资源': 'open_resource',
      '打开类型': 'open_type',
      '打开搜索对话框': 'open_search_dialog',
      '查找上一个': 'find_previous',
      '转到行': 'go_to_line',
      '转到最后编辑位置': 'go_to_last_edit',
      '下一个问题': 'next_problem',
      '上一个问题': 'previous_problem',
      // HBuilder X 快捷键描述映射
      '新建项目': 'new_project',
      '保存文件': 'save_file',
      '关闭当前文件': 'close_current_file',
      '关闭所有文件': 'close_all_files',
      '重新打开关闭的文件': 'reopen_closed_file',
      '查看定义': 'peek_definition',
      '查找引用': 'find_references',
      '后退': 'go_back',
      '前进': 'go_forward',
      '重做': 'redo',
      '剪切': 'cut',
      '全选': 'select_all',
      '选择行': 'select_line',
      '选择相同词': 'select_word',
      '选择所有相同词': 'select_all_words',
      '复制行': 'duplicate_line',
      '向上移动行': 'move_line_up',
      '向下移动行': 'move_line_down',
      '添加光标': 'add_cursor',
      '撤销光标': 'undo_cursor',
      '替换': 'replace',
      '在文件中查找': 'find_in_files',
      '在文件中替换': 'replace_in_files',
      '格式化文档': 'format_document',
      '格式化选择': 'format_selection',
      '切换行注释': 'toggle_line_comment',
      '切换块注释': 'toggle_block_comment',
      '折叠区域': 'fold_region',
      '展开区域': 'unfold_region',
      '折叠所有': 'fold_all',
      '展开所有': 'unfold_all',
      '运行到手机或模拟器': 'run_to_device',
      '运行到内置浏览器': 'run_in_browser',
      '发行': 'publish',
      '刷新': 'refresh',
      '触发建议': 'trigger_suggest',
      '触发参数提示': 'trigger_parameter_hints',
      '选择建议': 'select_suggestion',
      '切换侧边栏': 'toggle_sidebar',
      '显示资源管理器': 'show_explorer',
      '显示搜索': 'show_search',
      '显示源代码管理': 'show_scm',
      '显示调试': 'show_debug',
      '显示插件': 'show_extensions',
      '新建终端': 'new_terminal',
      '切换终端': 'toggle_terminal',
      // Firefox DevTools 特有描述
      '打开开发者工具': 'open_devtools',
      '检查元素': 'inspect_element',
      '切换到查看器面板': 'switch_to_inspector_panel',
      '切换到控制台面板': 'switch_to_console_panel',
      '切换到调试器面板': 'switch_to_debugger_panel',
      '切换到网络面板': 'switch_to_network_panel',
      '清空控制台': 'clear_console',
      '执行控制台命令': 'execute_console_command',
      '控制台多行输入': 'console_multiline_input',
      '继续执行': 'continue_execution',
      '单步跳过': 'step_over',
      '单步进入': 'step_into',
      '单步跳出': 'step_out',
      '响应式设计模式': 'responsive_design_mode',
      '在查看器中使用吸管工具': 'use_eyedropper_in_inspector',
      // GoLand 特有描述
      '在测试和代码之间切换': 'switch_between_test_and_code',
      '实现接口': 'implement_interface',
      '优化导入': 'optimize_imports',
      // HBuilder X 缺失的描述映射
      '转到定义': 'go_to_definition',
      '撤销': 'undo',
      '复制': 'copy',
      '粘贴': 'paste',
      '删除行': 'delete_line',
      '查找': 'find',
      // IntelliJ IDEA 缺失的描述映射
      '重写方法': 'override_methods',
      '实现方法': 'implement_methods',
      '生成代码（getter、setter、构造函数等）': 'generate_code',
      '跳转到父类/方法': 'go_to_super',
      '提取字段': 'extract_field',
      // Sublime Text 缺失的描述映射
      '转到任何内容': 'go_to_anything',
      '转到项目中的符号': 'go_to_symbol_in_project',
      '选择单词': 'select_word',
      '将选择拆分为行': 'split_into_lines',
      '选择括号内容': 'expand_selection_to_brackets',
      '跳转到匹配的括号': 'jump_to_matching_bracket',
      // WebStorm 缺失的描述映射
      '按文件名查找文件': 'find_file_by_name',
      '代码补全': 'code_completion',
      // Xcode 缺失的描述映射
      '打开': 'open',
      '构建': 'build',
      '清理构建文件夹': 'clean_build_folder',
      '测试': 'test',
      '快速打开': 'quick_open',
      // Photoshop 特有描述映射
      '新建': 'new',
      '存储为Web所用格式': 'save_for_web',
      // Figma 描述映射
      '打开文件浏览器': 'open_file_browser',
      '保存到版本历史': 'save_to_version_history',
      '导出': 'export',
      '移动工具': 'move_tool',
      '框架工具': 'frame_tool',
      '矩形工具': 'rectangle_tool',
      '椭圆工具': 'ellipse_tool',
      '直线工具': 'line_tool',
      '文本工具': 'text_tool',
      // Chrome DevTools 描述映射
      '打开开发者工具并聚焦元素面板': 'open_devtools_focus_elements',
      '切换到元素面板': 'switch_to_elements_panel',
      '切换到源代码面板': 'switch_to_sources_panel',
      '编辑HTML元素': 'edit_html_element',
      '隐藏元素': 'hide_element',
      // Android Studio 特有描述映射
      '显示意图操作和快速修复': 'show_intention_actions',
      '打开设置对话框': 'open_settings_dialog',
      '打开项目结构对话框': 'open_project_structure',
      'VCS提交': 'vcs_commit',
      'VCS推送': 'vcs_push',
      '保存所有文件': 'save_all_files',
      '关闭当前标签页': 'close_current_tab',
      '关闭所有标签页': 'close_all_tabs',
      '重新打开关闭的标签页': 'reopen_closed_tab',
      '最近编辑的文件': 'recently_edited_files',
      '打开/关闭项目工具窗口': 'toggle_project_tool_window',
      '转到父类': 'go_to_super_class',
      '上一个编辑位置': 'previous_edit_location',
      '下一个编辑位置': 'next_edit_location',
      '在打开的文件间切换': 'switch_between_open_files',
      '扩展选择': 'expand_selection',
      '收缩选择': 'shrink_selection',
      '选择当前行': 'select_current_line',
      '在文件中查找使用': 'find_usages_in_file',
      '显示使用': 'show_usages',
      '提取常量': 'extract_constant',
      '提取参数': 'extract_parameter',
      '移动': 'move_refactor',
      '安全删除': 'safe_delete',
      '调试运行': 'debug_run',
      '正常运行': 'normal_run',
      '查看断点': 'view_breakpoints',
      '恢复程序': 'resume_program',
      '运行到光标': 'run_to_cursor',
      '计算表达式': 'evaluate_expression',
      '生成代码': 'generate_code',
      '插入实时模板': 'insert_live_template',
      '环绕代码': 'surround_with',
      '自动缩进行': 'auto_indent_lines',
      '构建项目': 'build_project',
      '重新构建项目': 'rebuild_project',
      '运行配置选择': 'run_configuration_selection',
      '调试配置选择': 'debug_configuration_selection',
      '同步项目与Gradle文件': 'sync_project_with_gradle',
      '同步': 'synchronize',
      '最大化编辑器': 'maximize_editor',
      '项目工具窗口': 'project_tool_window',
      '收藏夹工具窗口': 'favorites_tool_window',
      '查找工具窗口': 'find_tool_window',
      '运行工具窗口': 'run_tool_window',
      '调试工具窗口': 'debug_tool_window',
      'TODO工具窗口': 'todo_tool_window',
      '结构工具窗口': 'structure_tool_window',
      '版本控制工具窗口': 'version_control_tool_window',
      '消息工具窗口': 'messages_tool_window',
      '关闭活动工具窗口': 'close_active_tool_window',
      '基本代码补全': 'basic_code_completion',
      '智能代码补全': 'smart_code_completion',
      '参数信息': 'parameter_info',
      '快速文档查看': 'quick_documentation',
      '快速定义查看': 'quick_definition_lookup',
      '错误描述': 'error_description',
      // 缺失的Android Studio描述映射
      '最近打开的文件': 'recent_files',
      '转到声明': 'go_to_declaration',
      '转到实现': 'go_to_implementation',
      '在当前文件中替换': 'replace_in_current_file',
      '在项目中替换': 'replace_in_project'
    }
    
    const key = descriptionMap[description]
    return key ? t(`shortcutDescriptions.${key}`, description) : description
  }
}